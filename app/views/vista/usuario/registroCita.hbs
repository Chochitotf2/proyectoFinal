<!DOCTYPE html>
<html lang="en">

<head>
    <title>Plantilla - medico</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="/dist/css/adminx.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/cssI/src/AdminLTE.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/cssI/src/main.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/cssI/src/select2.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/cssI/src/skin-blue.css" media="screen" />

    <link rel="stylesheet" type="text/css" href="/cssI/src/screen.css" media="screen" />

    <script src="/cssI/src/Chart.js"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <script type="text/javascript" src="js/script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>
    <script>
        var html = "";
        $(document).ready(function () {
            var now = new Date();
            now.setDate(now.getDate() + 1);
            var month = (now.getMonth() + 2);
            var day = now.getDate();
            if (month < 10)
                month = "0" + month;
            if (day < 10)
                day = "0" + day;
            var today = now.getFullYear() + '-' + month + '-' + day;

            $('#fecha').val(today);
            document.getElementById("fecha").min = today;

            $("#fecha").change(function () {
                var medico = document.getElementById("medico").value;
                if (medico == '') {
                    $('#hora').html('');
                } else {
                    envio($(this).val(), medico);
                }
            });

            $("#medico").change(function () {
                if ($(this).val() == '') {
                    $('#hora').html('');
                    $("#consultorio").val('');
                    $("#especialidad").val('');
                } else {
                    var fecha = document.getElementById("fecha").value;
                    envio(fecha, $(this).val());
                }
            });

            function envio(fecha, medico) {
                var objeto = [];
                objeto[0] = fecha;
                objeto[1] = medico;
                var url = "http://localhost:4000/usuario/filtradoFecha/" + fecha + "/" + medico;
                $.ajax({
                    url: url,
                    type: 'GET',
                    dataType: 'json',
                    success: function (data, textStatus, jqXHR) {
                        filtrando(data);
                    }, error: function (jqXHR, textStatus, errorThrown) {
                    }
                });
            }



            function misCitas(medico) {
                // alert(medico);

                var url = "http://localhost:4000/usuario/tablaCitas/" + medico.external_medico;

                $.ajax({
                    url: url,
                    type: 'GET',
                    async: true,
                    dataType: 'json',
                    success: function (data, textStatus, jqXHR) {


                        let str = medico.fecha;
                        let date = moment(str);


                        html += '<tr>';
                        html += '<td>' + date.format('MMM Do YY') + '</td>';
                        html += '<td> ' + medico.hora + '     </td>';
                        html += '<td>' + data[0].nombre + ' ' + data[0].apellido + '</td>';
                        html += '<td>' + 'Consultorio Nro ' + data[1].nro_consultorio + '</td>';
                        html += '<td>' + data[1].especialidad + '</td>';
                        //html += '<td>' + data[1].especialidad + '</td>';

                        if (medico.estado == true) {
                            html += '<td> ' + ' <button id=' + medico.external_id + '_a' + ' data-feather="plus" data-toggle="modal"  data-target=".bd-example-modal-lg"  type="button" class="btn btn-sm btn-outline-warning">Modificar</button>';
                            html += ' <button  onClick="return item(' + "'" + medico.external_id + "'" + ', 1)"  type="button"  class="btn btn-sm btn-success "> Activo </button>' + '</td>';
                            html += '';
                            html += '<script >  ' +

                                '$("#' + medico.external_id + '_a' + '").click(function () {' +
                                ' document.getElementById("medico").disabled = true;' +
                                '$("#medico").val("' + data[1].id + '");' +
                                '$("#consultorio").val("' + data[1].nro_consultorio + '");' +
                                '$("#especialidad").val("' + data[1].especialidad + '");' +
                                '$("#external_modificar").val("' + medico.external_id + '");' +
                                '$("#external_verificar").val("modifica");' +
                                '$("#hora").val("");' +
                                '$("#fecha").val("00/00/0000");' +
                                '  });' +

                                ' </s' + 'cript>';
                            html += '</tr>';



                        } else {

                            html += ' <td> <button    type="button"  class="btn btn-sm btn-danger "> Cancelada </button>' + '</td>';
                        }



                        $("#tabla tbody").html(html);

                    }, error: function (jqXHR, textStatus, errorThrown) {
                    }
                });
            }

            function filtrando(data) {
                var ob = '';
                var html = '';
                var arreglo = [];
                for (paso = 1; paso < 24; paso++) {
                    var seconds = 1800 * paso + 25200;
                    var date = new Date(seconds * 1000);
                    var hh = date.getUTCHours();
                    var mm = date.getUTCMinutes();
                    var ss = date.getSeconds();
                    if (hh < 10) { hh = "0" + hh; }
                    if (mm < 10) {
                        mm = "0" + mm;
                        if (ss < 10) { ss = "0" + ss; }
                    }
                    var ti = hh + ":" + mm + ":" + '00';
                    arreglo[paso - 1] = ti;
                }
                var resultado = arreglo.slice();
                for (paso = 0; paso < arreglo.length; paso++) {
                    for (i = 0; i < data.length; i++) {
                        if (arreglo[paso] == data[i].hora && data[i].estado == true) {
                            var idx = resultado.indexOf(arreglo[paso]);
                            resultado.splice(idx, 1);
                        }
                    }
                };
                for (paso = 0; paso < resultado.length; paso++) {
                    html += '<option >' + resultado[paso] + '</option>';
                }
                $('#hora').html(html);
            };
            $("#medico").change(function () {
                // alert($(this).val())      ;
                var url = "http://localhost:4000/usuario/filtradoMedico/" + $(this).val();
                $.ajax({
                    url: url,
                    type: 'GET',
                    dataType: 'json',
                    success: function (data, textStatus, jqXHR) {
                        $("#consultorio").val('En el consultorio Nr :' + data.nro_consultorio);
                        $("#especialidad").val('Se especializa en :' + data.especialidad);
                    }, error: function (jqXHR, textStatus, errorThrown) {
                    }
                });
            });


            var url = "http://localhost:4000/usuario/misCitas/";
            $.ajax({
                url: url,
                type: 'GET',
                dataType: 'json',
                success: function (data, textStatus, jqXHR) {

                    $.each(data, function (i, element) {
                        //  console.log("holasss "+element);
                        misCitas(element);
                    });

                }, error: function (jqXHR, textStatus, errorThrown) {
                }
            });





        });;
    </script>

</head>

<body>

    <div class="adminx-container ">
        <!-- Header -->
        <nav class="navbar navbar-expand justify-content-between fixed-top">
            <a class="navbar-brand mb-0 h1 d-none d-md-block" href="/usuario/home">
                <img src="../demo/img/logo.png" class="navbar-brand-image d-inline-block align-top mr-2" alt="">
                Bienvenido Usuario......

            </a>


            <div class="d-flex flex-1 d-block d-md-none">
                <a href="#" class="sidebar-toggle ml-3">
                    <i data-feather="menu"></i>
                </a>
            </div>

            <ul class="navbar-nav d-flex justify-content-end mr-2">
                <!-- Notificatoins -->

                <!-- Notifications -->
                <li class="nav-item dropdown">
                    <a class="nav-link avatar-with-name" id="navbarDropdownMenuLink" data-toggle="dropdown" href="#">
                        <img src="https://s3.amazonaws.com/uifaces/faces/twitter/jsa/128.jpg"
                            class="d-inline-block align-top" alt="">
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item text-danger" href="/cerrar_sesion">Cerrar sesion</a>
                    </div>
                </li>
            </ul>
        </nav>
        <!-- // Header -->

        <!-- expand-hover push -->
        <div class="adminx-sidebar expand-hover push" id="sidebar">
            <ul class="sidebar-nav">
                <li class="sidebar-nav-item">
                    <a href='/usuario/home' class="sidebar-nav-link">
                        <span class="sidebar-nav-icon">
                            <i data-feather="home"></i>
                        </span>
                        <span class="sidebar-nav-name">
                            Inicio
                        </span>
                        <span class="sidebar-nav-end">

                        </span>
                    </a>
                </li>


                <li class="sidebar-nav-item">
                    <a href='/usuario/registroCita' class="sidebar-nav-link">
                        <span class="sidebar-nav-icon">
                            <i data-feather="edit"></i>
                        </span>
                        <span class="sidebar-nav-name">
                            Registrar una cita
                        </span>
                    </a>

                <li class="sidebar-nav-item">
                    <a href='/usuario/verEditar' class="sidebar-nav-link">
                        <span class="sidebar-nav-icon">
                            <i data-feather="user"></i>
                        </span>
                        <span class="sidebar-nav-name">
                            Perfil Usuario
                        </span>

                    </a>
                </li>

                <li class="sidebar-nav-item">
                    <a href='/usuario/historialMedico' class="sidebar-nav-link">
                        <span class="sidebar-nav-icon">
                            <i data-feather="layers"></i>
                        </span>
                        <span class="sidebar-nav-name">
                            Mi historial medico
                        </span>
                    </a>
                </li>
            </ul>
        </div>
        <!-------------------------MAIN------------------------------>

        <!-- Main Content -->
        <div class="adminx-content">

            <div class="adminx-main-content">
                <div class="container-fluid">
                    <!-- BreadCrumb -->

                    </section>





                    <!-- Main content -->
                    <section class="content">
                        <!-- Info boxes -->
                        <nav aria-label="breadcrumb" role="navigation">
                            <ol class="breadcrumb adminx-page-breadcrumb">
                                <li class="breadcrumb-item"><a href="#">Home</a></li>
                                <li class="breadcrumb-item"><a href="#">Registro Cita</a></li>

                            </ol>
                        </nav>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="box">
                                    <div class="box-header with-border">
                                        <h2 class="box-title">Mis Citas Medicas</h2>
                                        <div class="box-tools pull-right">
                                            <button onclick="myFunction()" type="button" class="btn btn-sm btn-default "
                                                data-toggle="modal" data-target=".bd-example-modal-lg"><i
                                                    data-feather="plus"></i>
                                                Nueva Cita</button> </div>
                                        <script>
                                            function myFunction() {
                                                $("#consultorio").val("");
                                                $("#especialidad").val("");
                                                $("#fecha").val("");
                                                $("#hora").val("");
                                                $("#external_verificar").val("guarda");
                                                document.getElementById("medico").selectedIndex = "0";
                                                document.getElementById("medico").disabled = false;
                                            }

                                        </script>

                                    </div><!-- /.box-header -->


                                </div><!-- /.box -->
                            </div><!-- /.col -->
                        </div><!-- /.row -->

                        <!-- Main row -->
                        <div class="row">
                            <!-- Left col -->
                            <div class="col-md-12">
                                <!-- TABLE: LATEST ORDERS -->
                                <div class="box box-info">
                                    <div class="box-header with-border">
                                        <h3 class="box-title">Últimas citas</h3>
                                        <div class="box-tools pull-right">



                                            <button class="btn btn-box-tool" data-widget="collapse"><i
                                                    class="fa fa-minus"></i></button>
                                            <button class="btn btn-box-tool" data-widget="remove"><i
                                                    class="fa fa-times"></i></button>
                                        </div>
                                    </div><!-- /.box-header -->

                                    <div class="box-body">
                                        <table id="tabla" class="table no-margin">
                                            <thead class="text-center">
                                                <tr>
                                                <tr class="info">
                                                    <td>Fecha</th>
                                                    <td>Hora</th>
                                                    <td>Doctor</th>
                                                    <td>Consultorio</th>
                                                    <td>Especialidad</th>
                                                    <td>Acciones</th>

                                                </tr>
                                                </tr>
                                            </thead>
                                            <tbody class="text-center">



                                            </tbody>



                                            <script>

                                                function item(external, tipo) {
                                                    if (confirm('Esta seguro que quiere desactivar su cita ?')) {
                                                        var url = 'http://localhost:4000/usuario/modificar/' + external;
                                                        url = (tipo == 1) ? 'http://localhost:4000/usuario/quitar/' + external : url;
                                                        $.ajax({
                                                            url: url,
                                                            type: 'GET',
                                                            dataType: 'json',
                                                            success: function (data, textStatus, jqXHR) {
                                                                //  refrescarTabla();
                                                                // alert(data);
                                                                refrescarTabla();
                                                            }, error: function (jqXHR, textStatus, errorThrown) {
                                                            }
                                                        });
                                                    }



                                                }
                                                function refrescarTabla() {
                                                    var url = "http://localhost:4000/usuario/misCitas/";
                                                    $.ajax({
                                                        url: url,
                                                        type: 'GET',
                                                        dataType: 'json',
                                                        success: function (data, textStatus, jqXHR) {
                                                            var html = '';
                                                            if (!data.length <= 0) {
                                                                data.forEach(function (element) {
                                                                    // alert(element.external_medico);
                                                                    var url = "http://localhost:4000/usuario/tablaCitas/" + element.external_medico;
                                                                    $.ajax({
                                                                        url: url,
                                                                        type: 'GET',
                                                                        dataType: 'json',
                                                                        success: function (data, textStatus, jqXHR) {
                                                                            //lert(data);
                                                                            let str = element.fecha;
                                                                            let date = moment(str);

                                                                            html += '<tr>';
                                                                            html += '<td>' + date.format('MMM Do YY') + '</td>';
                                                                            html += '<td> ' + element.hora + '     </td>';
                                                                            html += '<td>' + data[0].nombre + ' ' + data[0].apellido + '</td>';
                                                                            html += '<td>' + 'Consultorio Nro ' + data[1].nro_consultorio + '</td>';
                                                                            html += '<td>' + data[1].especialidad + '</td>';

                                                                            if (element.estado == true) {
                                                                                html += '<td> ' + ' <button id=' + element.external_id + ' data-feather="plus" data-toggle="modal"  data-target=".bd-example-modal-lg"  type="button" class="btn btn-sm btn-outline-warning">Modificar</button>';
                                                                                html += ' <button  onClick="return item(' + "'" + element.external_id + "'" + ', 1)"  type="button"  class="btn btn-sm btn-success "> Activo </button>' + '</td>';
                                                                            } else {
                                                                                // html += ' <td> <button  onClick="return item(' + "'" + medico.external_id + "'" + ', 1)"  type="button"  class="btn btn-sm btn-danger "> Cancelada </button>' + '</td>';
                                                                                html += ' <td> <button    type="button"  class="btn btn-sm btn-danger "> Cancelada </button>' + '</td>';
                                                                            }


                                                                            html += ''
                                                                            html += '<script >  ' +

                                                                                '$("#' + element.external_id + '").click(function () {' +
                                                                                ' document.getElementById("medico").disabled = true;' +
                                                                                '$("#medico").val("' + data[1].id + '");' +
                                                                                '$("#consultorio").val("' + data[1].nro_consultorio + '");' +
                                                                                '$("#especialidad").val("' + data[1].especialidad + '");' +
                                                                                '$("#external_modificar").val("' + element.external_id + '");' +
                                                                                '$("#external_verificar").val("modifica");' +
                                                                                '$("#fecha").val("00/00/0000");' +
                                                                                '  });' +

                                                                                ' </s' + 'cript>';
                                                                            html += '</tr>';

                                                                            $("#tabla tbody").html(html);
                                                                            $("#tabla tbody").html(html);
                                                                        }, error: function (jqXHR, textStatus, errorThrown) {
                                                                        }
                                                                    });
                                                                });
                                                            } else {

                                                                $("#tabla tbody").html(html);
                                                            }

                                                        }, error: function (jqXHR, textStatus, errorThrown) {
                                                        }
                                                    });
                                                }
                                                function misCitas(medico) {
                                                    // alert(medico);                                                

                                                }
                                            </script>

                                        </table>
                                        <div class="box-footer clearfix">


                                        </div><!-- /.box-footer -->
                                    </div><!-- /.box -->
                                </div><!-- /.col -->




                            </div><!-- /.row -->
                    </section><!-- /.content -->








                    <!-----------------------MODAL------------------------------->

                    <!-- Modal -->
                    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog"
                        aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">×</span></button>
                                    <h4 class="modal-title">Nueva Cita</h4>
                                </div>
                                <div class="modal-body">
                                    <form id="formulario" name="formulario" action="/usuario/guardarCita" method="post">
                                       <div> <div>
                                            <div class="row ">
                                            <div class="col-md-6 form-group">
                                                <label for="fechaa">Fecha</label>
                                                <div class="input-group">
                                                    <input type="date" class="form-control datepicker" id="fecha"
                                                        name="fecha" required="" maxlength="10">
                                                    <span class="input-group-addon"><i
                                                            class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                            <input type="hidden" name="external_verificar" id="external_verificar"
                                                value="guarda">
                                            <input type="hidden" name="external_modificar" id="external_modificar"
                                                value="">
                                            <div class="col-md-6 form-group">
                                                <label for="hora">Hora</label>
                                                <div class="input-group bootstrap-timepicker timepicker">
                                                    <div class="bootstrap-timepicker-widget dropdown-menu">
                                                        <table>
                                                            <tbody>
                                                                <tr>
                                                                    <td><a href="#" data-action="incrementHour"><i
                                                                                class="glyphicon glyphicon-chevron-up"></i></a>
                                                                    </td>
                                                                    <td class="separator">&nbsp;</td>
                                                                    <td><a href="#" data-action="incrementMinute"><i
                                                                                class="glyphicon glyphicon-chevron-up"></i></a>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td><input type="text" name="hour"
                                                                            class="bootstrap-timepicker-hour form-control"
                                                                            maxlength="2"></td>
                                                                    <td class="separator">:</td>
                                                                    <td><input type="text" name="minute"
                                                                            class="bootstrap-timepicker-minute form-control"
                                                                            maxlength="2"></td>
                                                                </tr>
                                                                <tr>
                                                                    <td><a href="#" data-action="decrementHour"><i
                                                                                class="glyphicon glyphicon-chevron-down"></i></a>
                                                                    </td>
                                                                    <td class="separator"></td>
                                                                    <td><a href="#" data-action="decrementMinute"><i
                                                                                class="glyphicon glyphicon-chevron-down"></i></a>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>





                                                    <select name="hora" id="hora" class="form-control" required="">

                                                    </select>



                                                </div>

                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-md-12">
                                                <label for="id_medico">Médico</label>
                                                <select name="medico" id="medico" class="form-control" required="">
                                                    <option value="">-- Selecciona --</option>
                                                    {{#each lista}}
                                                    <option id="{{this.id}}+''+" value="{{this.id}}">{{this.nombre}}
                                                        {{this.apellido}}
                                                    </option>
                                                    {{/each}}
                                                </select>
                                            </div>

                                        </div>

                                        <div class="row form-group">
                                            <div class="col-md-6">
                                                <label for="id_medico">Consultorio</label>
                                                <input type="text" disabled name="consultorio" id="consultorio"
                                                    class="form-control">

                                            </div>

                                            <div class="col-md-6">
                                                <label for="id_medico">Especialidad</label>
                                                <input type="text" disabled name="especialidad" id="especialidad"
                                                    class="form-control">

                                            </div>
                                        </div>

                                        <div class="row ">

                                        </div>


                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                                    <input type="submit" name="action" id="action" class="btn btn-primary"
                                        value="Guardar">
                                </div>

                                       </div>
                                </form>



                            </div>
                        </div>
                    </div>





                    <!-- If you prefer jQuery these are the required scripts -->
                    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
                    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
                    <script src="../dist/js/vendor.js"></script>
                    <script src="../dist/js/adminx.js"></script>

                    <script src="/cssI/src/jQuery-2.js"></script>
                    <script src="/cssI/src/bootstrap.js"></script>
                    <script src="/cssI/src/Chart.js"></script>
                    <script src="/cssI/src/fastclick.js"></script>
                    <script src="/cssI/src/app.js"></script>


                    <script src="/cssI/src/js/validator.js"></script>
                    <script src="/cssI/src/validate.js"></script>
                    <script src="/cssI/src/app.js"></script>

                    <script>
                        $().ready(function () {
                            $("#formulario").validate({
                                rules: {
                                    fecha: {
                                        required: true,
                                        date: true
                                    }
                                },
                                messages: {
                                    fecha: {
                                        required: "Seleccione una fecha"
                                    }
                                }
                            });
                        });

                    </script>



                    <script>
                        $(function () {
                            var areaChartData = {
                                labels: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
                                datasets: [
                                    {
                                        label: "Compras",
                                        fillColor: "rgba(210, 214, 222, 1)",
                                        strokeColor: "rgba(210, 214, 222, 1)",
                                        pointColor: "rgba(210, 214, 222, 1)",
                                        pointStrokeColor: "#c1c7d1",
                                        pointHighlightFill: "#fff",
                                        pointHighlightStroke: "rgba(220,220,220,1)",
                                        data: [9.00, 2.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00]
                                    },
                                    {
                                        label: "Ventas",
                                        fillColor: "rgba(60,141,188,0.9)",
                                        strokeColor: "rgba(60,141,188,0.8)",
                                        pointColor: "#3b8bba",
                                        pointStrokeColor: "rgba(60,141,188,1)",
                                        pointHighlightFill: "#fff",
                                        pointHighlightStroke: "rgba(60,141,188,1)",
                                        data: [26.00, 12.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00]
                                    }
                                ]
                            };
                            //-------------
                            //- BAR CHART -
                            //-------------
                            var barChartCanvas = $("#barChart").get(0).getContext("2d");
                            var barChart = new Chart(barChartCanvas);
                            var barChartData = areaChartData;
                            barChartData.datasets[1].fillColor = "#00a65a";
                            barChartData.datasets[1].strokeColor = "#00a65a";
                            barChartData.datasets[1].pointColor = "#00a65a";
                            var barChartOptions = {
                                scaleBeginAtZero: true,
                                scaleShowGridLines: true,
                                scaleGridLineColor: "rgba(0,0,0,.05)",
                                scaleGridLineWidth: 1,
                                scaleShowHorizontalLines: true,
                                scaleShowVerticalLines: true,
                                barShowStroke: true,
                                barStrokeWidth: 2,
                                barValueSpacing: 5,
                                barDatasetSpacing: 1,
                                legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>",

                                responsive: true,
                                maintainAspectRatio: true
                            };

                            barChartOptions.datasetFill = false;
                            barChart.Bar(barChartData, barChartOptions);
                        });
                    </script>


                    <script>
                        (function () {
                            'use strict';

                            window.addEventListener('load', function () {
                                var form = document.getElementById('needs-validation');
                                if (form !== null) {
                                    form.addEventListener('submit', function (event) {
                                        if (form.checkValidity() === false) {
                                            event.preventDefault();
                                            event.stopPropagation();
                                        }
                                        form.classList.add('was-validated');
                                    }, false);
                                }
                            }, false);
                        })();
                    </script>



</body>

</html>











<!-- If you prefer jQuery these are the required scripts -->


<script src="/cssI/src/jQuery-2.js"></script>
<script src="/cssI/src/bootstrap.js"></script>
<script src="/cssI/src/Chart.js"></script>
<script src="/cssI/src/fastclick.js"></script>
<script src="/cssI//src/app.js"></script>


</body>

</html>